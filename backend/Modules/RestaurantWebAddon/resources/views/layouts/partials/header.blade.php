<div class="header-bg sticky-top">
    <header class="main-header-section ">
        <div class="header-wrapper">
            <div class="header-left">
                <div class="sidebar-opner"><i class="fal fa-bars" aria-hidden="true"></i></div>

                <div class="d-flex align-items-center gap-3 header-list-btn">
                    @usercan('sales.view')
                    <a class="bill-list-btn" href="{{ route('business.sales.index') }}">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M13.75 14C13.75 14.414 13.414 14.75 13 14.75H7C6.586 14.75 6.25 14.414 6.25 14C6.25 13.586 6.586 13.25 7 13.25H13C13.414 13.25 13.75 13.586 13.75 14ZM10 16.25H7C6.586 16.25 6.25 16.586 6.25 17C6.25 17.414 6.586 17.75 7 17.75H10C10.414 17.75 10.75 17.414 10.75 17C10.75 16.586 10.414 16.25 10 16.25ZM21.75 11.5V19C21.75 20.517 20.517 21.75 19 21.75H6C3.582 21.75 2.25 20.418 2.25 18V6C2.25 3.582 3.582 2.25 6 2.25H14C16.418 2.25 17.75 3.582 17.75 6V9.25H19.5C20.741 9.25 21.75 10.259 21.75 11.5ZM16.551 20.25C16.359 19.875 16.25 19.45 16.25 19V6C16.25 4.423 15.577 3.75 14 3.75H6C4.423 3.75 3.75 4.423 3.75 6V18C3.75 19.577 4.423 20.25 6 20.25H16.551ZM20.25 11.5C20.25 11.086 19.914 10.75 19.5 10.75H17.75V19C17.75 19.689 18.311 20.25 19 20.25C19.689 20.25 20.25 19.689 20.25 19V11.5ZM7.633 9.10596L8.56201 9.34595C8.71501 9.38595 8.82202 9.53596 8.82202 9.70996C8.82202 9.84996 8.75403 9.94106 8.71503 9.98206C8.67103 10.0281 8.59501 10.083 8.48901 10.083H8.08398C7.91798 10.083 7.77299 9.93695 7.75299 9.75195C7.70799 9.33995 7.34303 9.04304 6.92603 9.08704C6.51403 9.13104 6.21699 9.50194 6.26099 9.91394C6.34199 10.6659 6.85201 11.2661 7.52301 11.4871V11.5C7.52301 11.914 7.85901 12.25 8.27301 12.25C8.68701 12.25 9.02301 11.914 9.02301 11.5V11.493C9.31001 11.403 9.57501 11.25 9.79401 11.024C10.134 10.67 10.321 10.2041 10.321 9.71106C10.321 8.85506 9.75403 8.10902 8.93903 7.89502L8.00897 7.65503C7.91897 7.63103 7.86097 7.57398 7.82397 7.52698C7.77697 7.46498 7.74902 7.37902 7.74902 7.29102C7.74902 7.08502 7.89797 6.91699 8.08197 6.91699H8.487C8.655 6.91699 8.79799 7.05905 8.81799 7.24805C8.86199 7.66005 9.22402 7.95396 9.64502 7.91296C10.057 7.86896 10.354 7.49806 10.31 7.08606C10.228 6.32506 9.70597 5.71998 9.02197 5.50598V5.50098C9.02197 5.08698 8.68597 4.75098 8.27197 4.75098C7.85797 4.75098 7.52197 5.08698 7.52197 5.50098V5.51599C6.78597 5.75899 6.24902 6.45802 6.24902 7.29102C6.24902 7.70602 6.38401 8.11203 6.62701 8.43103C6.87701 8.76203 7.233 9.00196 7.633 9.10596Z" fill="#EC8500"/>
                        </svg>
                        {{__('Order List')}}
                    </a>
                    @endusercan
                    @usercan('tables.view')
                    <a class="table-list-btn" href="{{ route('business.tables.index') }}">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M11.6019 6.24951C14.9869 6.24977 17.7497 9.02955 17.7504 12.4321V12.4341C17.7342 14.0614 17.0786 15.617 15.9271 16.7622C14.7756 17.9074 13.2206 18.5503 11.6 18.5503C9.97933 18.5503 8.42434 17.9074 7.27283 16.7622C6.12137 15.617 5.4658 14.0614 5.44958 12.4341V12.4312C5.45264 9.02778 8.21676 6.24951 11.6019 6.24951ZM11.6039 7.02881C8.6332 7.02492 6.21655 9.44413 6.21423 12.4224C6.21552 13.8562 6.78116 15.2311 7.78748 16.2476C8.79374 17.2639 10.1587 17.8399 11.5853 17.8491C14.5371 17.8631 16.9803 15.4227 16.9867 12.4536L16.9808 12.187C16.952 11.5665 16.8164 10.955 16.5804 10.3794C16.3108 9.72159 15.9153 9.1234 15.4154 8.61963C14.9154 8.11581 14.3212 7.71576 13.6674 7.44287C13.0135 7.16998 12.3119 7.02919 11.6039 7.02881Z" fill="#007DE9" stroke="#007DE9" stroke-width="0.3"/>
                            <path d="M3.54431 6.44189C3.89395 6.28192 4.29673 6.25583 4.66638 6.36865C5.03596 6.48153 5.3455 6.72558 5.52771 7.05029C5.71013 7.37545 5.75005 7.75547 5.63708 8.10791L5.63611 8.10889C5.2456 9.25532 4.84705 10.3996 4.43982 11.5405C4.2017 12.2046 3.48596 12.5961 2.80017 12.479C2.04356 12.352 1.51733 11.7948 1.50037 11.0884L1.49939 11.0796L1.50134 11.0708C1.52216 10.935 1.55093 10.8002 1.58826 10.6675L1.59021 10.6616C1.98569 9.51795 2.37561 8.37106 2.79138 7.23193V7.23096C2.92356 6.8849 3.19453 6.60195 3.54431 6.44189ZM4.36658 6.979C4.18035 6.94094 3.98584 6.96965 3.82166 7.05811C3.65753 7.1466 3.53684 7.28856 3.48083 7.45361L3.47986 7.45459C3.07407 8.58982 2.67206 9.73018 2.28943 10.8735C2.25875 10.99 2.25494 11.1109 2.27771 11.228L2.30994 11.3433L2.31091 11.3462H2.30994C2.40152 11.6275 2.684 11.7996 3.02771 11.7974H3.03064C3.19355 11.8003 3.35272 11.7527 3.48279 11.6636C3.6126 11.5745 3.70607 11.4487 3.75037 11.3071L3.75134 11.3042C4.15239 10.1715 4.54478 9.0366 4.93787 7.90088C4.95462 7.84619 4.96596 7.79029 4.97302 7.73389C4.97198 7.3331 4.72117 7.04613 4.36853 6.97998L4.36658 6.979Z" fill="#007DE9" stroke="#007DE9" stroke-width="0.2"/>
                            <path d="M19.0219 7.00146C18.8967 6.99659 18.7721 7.02016 18.6595 7.06982C18.5472 7.11944 18.4505 7.19353 18.3773 7.28467C18.3041 7.37597 18.256 7.48224 18.2377 7.59326C18.2194 7.70424 18.2309 7.81794 18.2709 7.92432L18.2719 7.92725C18.6576 9.05796 19.0537 10.1863 19.4594 11.312L19.5209 11.436C19.5951 11.5537 19.7054 11.6514 19.8412 11.7144C20.0226 11.7983 20.2334 11.8128 20.4271 11.7554C20.6206 11.698 20.7802 11.574 20.8734 11.4116C20.9661 11.25 20.9867 11.0619 20.932 10.8872C20.5433 9.74895 20.1406 8.61417 19.7347 7.48096L19.7338 7.47803C19.6883 7.34127 19.5953 7.22067 19.4681 7.13428C19.3408 7.04784 19.1862 7.00049 19.0267 7.00146H19.0219ZM21.6996 11.0356C21.6996 11.8 21.1666 12.3545 20.4047 12.481C19.7197 12.5942 19.0107 12.1958 18.7689 11.5366C18.4876 10.7658 18.2245 9.98806 17.9535 9.21631C17.889 9.03238 17.8211 8.84711 17.7543 8.66064L17.5629 8.09814C17.4492 7.74384 17.4911 7.36243 17.6791 7.0376C17.8669 6.7133 18.1845 6.47362 18.5599 6.3667V6.36572C19.3368 6.13908 20.1508 6.51497 20.4271 7.26221C20.7086 8.0246 20.9715 8.79431 21.2386 9.55908C21.3792 9.96092 21.5181 10.3637 21.6508 10.7681L21.6517 10.772C21.6755 10.8554 21.6917 10.9408 21.6996 11.0269L21.7006 11.0356H21.6996Z" fill="#007DE9" stroke="#007DE9" stroke-width="0.2"/>
                            <path d="M4.82556 16.3198C5.00396 16.2894 5.18717 16.2938 5.36365 16.3335C5.53986 16.3732 5.70631 16.4469 5.85291 16.5503L7.50134 17.7036C8.05006 18.0898 8.59756 18.4784 9.14099 18.8706C9.52871 19.1507 9.69227 19.5605 9.69958 20.0288V20.0347C9.67758 20.6031 9.41076 21.0536 8.88025 21.3218C8.35163 21.5889 7.79376 21.5581 7.29626 21.2153C6.53918 20.6943 5.79428 20.1597 5.04626 19.6323C4.74972 19.4234 4.44519 19.216 4.15076 19.0005C3.88399 18.8051 3.69203 18.5714 3.58826 18.3032C3.48422 18.0343 3.47211 17.7375 3.55408 17.4214C3.63605 17.1055 3.78943 16.8545 4.00818 16.6694C4.22614 16.4851 4.50317 16.3721 4.82556 16.3208V16.3198ZM5.04138 16.9956C4.67027 17.035 4.39212 17.2342 4.28259 17.5376L4.28162 17.5386C4.16131 17.863 4.26069 18.1857 4.57947 18.4126C5.61537 19.1507 6.65537 19.8847 7.69861 20.6147L7.77185 20.6606C8.14119 20.8713 8.5736 20.7817 8.81384 20.4585C9.05323 20.1362 9.00945 19.7138 8.6908 19.4399L8.62341 19.3872C7.59586 18.6528 6.56184 17.9251 5.52283 17.2036V17.2026C5.45643 17.1568 5.37825 17.1218 5.29041 17.0884C5.21516 17.0598 5.12422 17.0289 5.04138 16.9956Z" fill="#007DE9" stroke="#007DE9" stroke-width="0.2"/>
                            <path d="M17.3207 16.5688C18.0048 16.0992 18.9057 16.2658 19.3978 16.9087C19.6357 17.2165 19.74 17.6037 19.6859 17.9858C19.6318 18.3679 19.4237 18.7122 19.1097 18.9458L19.1107 18.9468C18.3823 19.49 17.6263 20.0028 16.8861 20.5249C16.5498 20.7622 16.2124 21.0162 15.8607 21.2427C15.3621 21.563 14.8288 21.5812 14.2992 21.3149V21.314C14.0539 21.1887 13.8486 20.9996 13.7074 20.7671C13.5662 20.5346 13.4946 20.2678 13.5004 19.9976C13.5079 19.5373 13.6852 19.1385 14.0726 18.8589C15.1478 18.0877 16.2275 17.3186 17.3207 16.5688ZM18.1244 17.02C17.9753 17.0286 17.8324 17.0798 17.7142 17.1675L17.7113 17.1694C16.6546 17.9082 15.6003 18.6518 14.5482 19.3999L14.5472 19.4009C14.4631 19.4586 14.391 19.5315 14.3363 19.6157C14.2817 19.6998 14.2452 19.7935 14.2279 19.8911C14.2106 19.9889 14.2132 20.0893 14.2357 20.186C14.2583 20.2828 14.3006 20.3742 14.3597 20.4556C14.419 20.5369 14.4943 20.6063 14.5814 20.6597C14.6686 20.713 14.7657 20.7501 14.8676 20.7671C14.9693 20.784 15.0735 20.7814 15.1742 20.7593C15.275 20.7371 15.3704 20.6959 15.4545 20.6382L17.059 19.5142C17.5923 19.1372 18.1248 18.759 18.6576 18.3804L18.6586 18.3794C18.8581 18.2395 18.9486 18.0384 18.9623 17.7651C18.9415 17.4929 18.8222 17.2634 18.5541 17.1216L18.5511 17.1206C18.4229 17.0466 18.2738 17.0115 18.1244 17.02Z" fill="#007DE9" stroke="#007DE9" stroke-width="0.2"/>
                            <path d="M13.308 2.30029C14.1022 2.30035 14.6988 3.02027 14.6996 3.89893C14.6996 4.76461 14.1199 5.48293 13.3324 5.49658H9.85388C9.11587 5.48297 8.58755 4.87232 8.5072 4.02979C8.43559 3.27546 8.88203 2.5337 9.55701 2.33838L9.55994 2.3374C9.66466 2.31038 9.77189 2.29907 9.87927 2.30127V2.30029H13.308ZM9.93201 3.05225L9.93298 3.05322C9.8253 3.05446 9.71758 3.07688 9.6156 3.12158L9.61658 3.12256C9.47163 3.18854 9.34634 3.31419 9.26599 3.48291C9.18565 3.65174 9.15635 3.85033 9.18494 4.04346L9.21912 4.18994C9.26386 4.33169 9.33887 4.45658 9.43591 4.55127C9.56481 4.67703 9.72399 4.7414 9.88416 4.73877H11.7006V4.74072C12.2204 4.74278 12.7302 4.75938 13.2386 4.73096L13.3793 4.71045C13.5184 4.67903 13.6524 4.61525 13.7738 4.52197C14.0002 4.3411 14.0779 3.97033 13.9828 3.63037C13.9291 3.44057 13.8393 3.29793 13.722 3.20264C13.6054 3.10794 13.4546 3.05421 13.2679 3.05322C12.156 3.04692 11.0439 3.04594 9.93201 3.05225Z" fill="#007DE9" stroke="#007DE9" stroke-width="0.2"/>
                        </svg>
                        {{__('Table List')}}
                    </a>
                    @endusercan
                </div>
            </div>

            <div class="header-middle"></div>
            <div class="header-right ">
                <div class="language-change">
                    <div class="dropdown">
                        <button class="btn language-dropdown dropdown-toggle language-btn border-0" type="button" data-bs-toggle="dropdown"
                            aria-expanded="false">
                            <img src="{{ asset('flags/' . languages()[app()->getLocale()]['flag'] . '.svg') }}" alt="" class="flag-icon ">
                            <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M8.00002 11.1667C7.87202 11.1667 7.744 11.118 7.64666 11.02L2.98 6.35337C2.78466 6.15804 2.78466 5.84135 2.98 5.64601C3.17533 5.45068 3.49202 5.45068 3.68735 5.64601L8.00067 9.95933L12.314 5.64601C12.5093 5.45068 12.826 5.45068 13.0213 5.64601C13.2167 5.84135 13.2167 6.15804 13.0213 6.35337L8.35467 11.02C8.256 11.118 8.12802 11.1667 8.00002 11.1667Z" fill="#404040"/>
                            </svg>

                        </button>
                        <ul class="dropdown-menu dropdown-menu-scroll">
                            @foreach (languages() as $key => $language)
                                <li class="language-li">
                                    <a class="dropdown-item" href="{{ request()->fullUrlWithQuery(['lang' => $key]) }}">
                                        <div class="language-img-container">
                                            <img src="{{ asset('flags/' . $language['flag'] . '.svg') }}" alt=""
                                                class="flag-icon me-2">
                                            {{ $language['name'] }}
                                        </div>
                                    </a>
                                    @if (app()->getLocale() == $key)
                                        <i class="fas fa-check language-check"></i>
                                    @endif
                                </li>
                            @endforeach
                        </ul>
                    </div>
                </div>
                @usercan('notification.view')
                <div class="custom-notification-wrapper">
                    <a href="#" class="custom-notification-toggle" id="customNotificationToggle">
                        <i class="custom-notification-icon">
                            <img src="{{ asset('assets/images/icons/bel.svg') }}" alt="Notification">
                        </i>
                        <span class="custom-notification-count">
                            {{ auth()->user()->unreadNotifications->count() }}
                        </span>
                    </a>

                    <!-- Dropdown -->
                    <div class="custom-notification-dropdown hidden" id="customNotificationDropdown">
                        <div class="custom-notification-header">
                            <p>
                                {{ __('You Have') }}
                                <strong>{{ auth()->user()->unreadNotifications->count() }}</strong>
                                {{ __('new Notifications') }}
                            </p>
                            <a href="{{ route('business.notifications.mtReadAll') }}" class="read-btn">
                                {{ __('Mark all Read') }}
                            </a>
                        </div>

                        <ul class="custom-notification-list">
                            @foreach (auth()->user()->unreadNotifications as $notification)
                                <li class="custom-notification-item">
                                    <a href="{{ route('business.notifications.mtView', $notification->id) }}"
                                    class="custom-notification-link">
                                        <strong>{{ __($notification->data['message'] ?? '') }}</strong>
                                        <span class="custom-notification-time">
                                            {{ $notification->created_at->diffForHumans() }}
                                        </span>
                                    </a>
                                </li>
                            @endforeach
                        </ul>

                        <div class="custom-notification-footer">
                            <a href="{{ route('business.notifications.index') }}" class="custom-view-all">
                                {{ __('View all notifications') }}
                            </a>
                        </div>
                    </div>
                </div>
                @endusercan
                <div class="profile-info dropdown">
                    <a href="#" data-bs-toggle="dropdown" class="d-flex align-items-center gap-2">
                        <img src="{{ asset(Auth::user()->image ?? 'assets/images/icons/default-user.png') }}"
                            alt="Profile">
                        <div class="d-flex profile-text   ">
                            <p class="name">{{ Str::limit(Auth::user()->name, 15, '.') }}</p>
                            <p class="text">{{ ucfirst(auth()->user()->role ?? '')}}</p>
                        </div>
                    </a>
                    <ul class="dropdown-menu">
                        <li>
                            <a href="{{ route('business.profiles.index') }}"> <i class="fal fa-user"></i>
                                {{ __('My Profile') }}
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0)" class="logoutButton">
                                <i class="far fa-sign-out"></i> {{ __('Logout') }}
                                <form action="{{ route('logout') }}" method="post" id="logoutForm">
                                    @csrf
                                </form>
                            </a>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </header>
</div>

@push('js')
    <script src="{{ asset('assets/plugins/custom/notification-dropdown.js') }}"></script>
@endpush
